<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.M Cyber Varanasi | Best Jan Seva Kendra</title>
    
    <meta name="description" content="D.M Cyber Varanasi - ‡§Æ‡§Ç‡§°‡§æ‡§µ, ‡§∞‡•ã‡§π‡§®‡§ø‡§Ø‡§æ‡•§ ‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°, ‡§Ü‡§Ø-‡§ú‡§æ‡§§‡§ø-‡§®‡§ø‡§µ‡§æ‡§∏ ‡§î‡§∞ ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§´‡•â‡§∞‡•ç‡§Æ ‡§π‡•á‡§§‡•Å ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§">
    <meta name="keywords" content="D.M Cyber, Jan Seva Kendra Rohania, Varanasi Online Form, Dheeraj Maurya">

    <style>
        :root { 
            --dark-blue: #002d5b; 
            --orange: #ff851b;
            --white: #ffffff;
            --gray-light: #f8f9fa;
        }
        
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background-color: var(--white); color: #333; transition: 0.3s; }

        /* HEADER */
        header { 
            background: var(--dark-blue); color: white; text-align: center; 
            padding: 50px 15px; border-bottom: 6px solid var(--orange);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .logo-circle {
            width: 80px; height: 80px; background: white; border-radius: 50%; 
            margin: 0 auto 15px; display: flex; align-items: center; justify-content: center;
            border: 4px solid var(--orange); color: var(--dark-blue); font-size: 2em; font-weight: 900;
        }
        .dm-brand { font-size: 3em; font-weight: 900; margin: 0; }
        .dm-brand span { color: var(--orange); }
        .editable { cursor: pointer; border: 1px dashed transparent; }
        .edit-active .editable { border: 1px dashed yellow; background: rgba(255,255,255,0.1); }

        .container { max-width: 900px; margin: 0 auto; padding: 20px; }

        /* ACTION CARD */
        .action-card { 
            background: white; border-radius: 20px; padding: 25px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: center;
            margin-top: -60px; position: relative; border: 1px solid #eee;
        }
        .btn-flex { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-top: 15px; }
        .btn { border-radius: 25px; padding: 10px 20px; color: white; border: none; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 5px; font-size: 0.9em; }

        /* FORMS */
        .form-box { background: var(--gray-light); padding: 30px; border-radius: 20px; border: 1px solid #ddd; margin: 40px 0; }
        .form-box h2 { text-align: center; color: var(--dark-blue); margin-top: 0; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        input, select { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; font-size: 1em; }
        .full { grid-column: span 2; }
        .save-btn { background: var(--orange); color: white; width: 100%; padding: 15px; border: none; border-radius: 10px; font-weight: bold; font-size: 1.1em; cursor: pointer; transition: 0.3s; }
        .save-btn:hover { background: #e67600; }

        /* ADMIN CONTROL PANEL */
        #admin-panel { 
            display: none; background: white; padding: 25px; border: 4px solid var(--dark-blue); 
            border-radius: 20px; margin-top: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .tab-btn { flex: 1; padding: 10px; border: none; background: #eee; cursor: pointer; font-weight: bold; border-radius: 5px; }
        .tab-btn.active { background: var(--dark-blue); color: white; }
        
        .search-input { width: 100%; padding: 10px; margin-bottom: 15px; border: 2px solid var(--dark-blue); border-radius: 5px; }
        .table-wrap { overflow-x: auto; max-height: 400px; }
        table { width: 100%; border-collapse: collapse; }
        th { background: var(--dark-blue); color: white; padding: 12px; text-align: left; position: sticky; top: 0; }
        td { padding: 12px; border-bottom: 1px solid #eee; font-weight: bold; }
        .del-btn { background: red; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }

        /* FOOTER */
        footer { background: var(--dark-blue); color: white; padding: 60px 20px; text-align: center; border-top: 6px solid var(--orange); margin-top: 50px; }

        @media (max-width: 600px) { .form-grid { grid-template-columns: 1fr; } .full { grid-column: span 1; } }
    </style>
</head>
<body id="main-body">

<header id="site-header">
    <div class="logo-circle">DM</div>
    <h1 class="dm-brand editable" id="edit-title" contenteditable="false">D.M <span>Cyber</span></h1>
    <p class="editable" id="edit-owner" contenteditable="false">‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: ‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø‡§æ</p>
    <p class="editable" id="edit-tag" contenteditable="false">"‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ, ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡§π‡§ö‡§æ‡§®"</p>
    <div class="orange-badge" style="background:var(--orange); color:white; padding:8px 20px; border-radius:20px; display:inline-block; border:2px solid white; margin-top:10px;">‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä ‡§ï‡§æ ‡§®‡§Ç‡§¨‡§∞ 1 ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</div>
</header>

<div class="container">
    <div class="action-card">
        <div class="editable" id="edit-loc" contenteditable="false" style="font-weight:bold; color:#d32f2f;">üìç ‡§Æ‡§Ç‡§°‡§æ‡§µ, ‡§∞‡•ã‡§π‡§®‡§ø‡§Ø‡§æ, ‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä</div>
        <div class="btn-flex">
            <button class="btn" style="background:#001f3f;" onclick="location.href='tel:8303585793'">üìû ‡§ï‡•â‡§≤</button>
            <button class="btn" style="background:#25d366;" onclick="location.href='https://wa.me/918303585793'">üí¨ ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§™‡•ç‡§™</button>
            <button class="btn" style="background:#333;" onclick="loginAdmin()">‚öôÔ∏è ‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®</button>
        </div>
        <div id="edit-controls" style="display:none; margin-top:15px; background:#fff3cd; padding:10px; border-radius:10px;">
            <p style="margin:0 0 10px 0; color:#856404; font-weight:bold;">üõ†Ô∏è ‡§è‡§°‡§ø‡§ü‡§∞ ‡§Æ‡•ã‡§° ‡§ë‡§® ‡§π‡•à (‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§ï‡•á ‡§¨‡§¶‡§≤‡•á‡§Ç)</p>
            <button onclick="savePageEdits()" style="background:green; color:white; border:none; padding:8px 15px; border-radius:5px; cursor:pointer;">‡§¨‡§¶‡§≤‡§æ‡§µ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <div class="form-box">
        <h2>üìù ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π‡§æ‡§Å ‡§≠‡§∞‡•á‡§Ç</h2>
        <div class="form-grid">
            <input type="text" id="cust_n" placeholder="‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ" class="full">
            <input type="number" id="cust_p" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
            <input type="text" id="cust_w" placeholder="‡§ï‡§æ‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ">
            <select id="cust_type" class="full">
                <option value="General">‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä</option>
                <option value="Udhar">‡§â‡§ß‡§æ‡§∞ (Udhar Khata)</option>
            </select>
            <input type="date" id="cust_d" class="full">
            <button class="save-btn" onclick="submitData()">‡§°‡§æ‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <div id="admin-panel">
        <h2 style="color:var(--dark-blue); text-align:center;">üìä ‡§ï‡§Ç‡§ü‡•ç‡§∞‡•ã‡§≤ ‡§™‡•à‡§®‡§≤ (Admin Only)</h2>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('all')">‡§∏‡§≠‡•Ä ‡§°‡§æ‡§ü‡§æ</button>
            <button class="tab-btn" onclick="switchTab('udhar')">‡§∏‡§ø‡§∞‡•ç‡§´ ‡§â‡§ß‡§æ‡§∞</button>
        </div>

        <input type="text" id="admin-search" class="search-input" placeholder="üîç ‡§®‡§æ‡§Æ ‡§Ø‡§æ ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç..." onkeyup="filterAdminTable()">

        <div class="table-wrap">
            <table>
                <thead>
                    <tr><th>‡§®‡§æ‡§Æ</th><th>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤</th><th>‡§ï‡§æ‡§Æ</th><th>‡§ü‡§æ‡§á‡§™</th><th>‡§§‡§æ‡§∞‡•Ä‡§ñ</th><th>‡§π‡§ü‡§æ‡§è‡§Ç</th></tr>
                </thead>
                <tbody id="admin-rows"></tbody>
            </table>
        </div>
        <button onclick="closeAdmin()" style="margin-top:20px; width:100%; padding:12px; background:#666; color:white; border:none; border-radius:10px; cursor:pointer; font-weight:bold;">‡§™‡•à‡§®‡§≤ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<footer>
    <div style="font-weight: 900; font-size: 1.8em;">D.M Cyber Varanasi</div>
    <p>‡§Æ‡§Ç‡§°‡§æ‡§µ, ‡§∞‡•ã‡§π‡§®‡§ø‡§Ø‡§æ, ‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä | +91 8303585793</p>
    <div style="opacity: 0.5; font-size: 0.8em; margin-top: 20px;">¬© 2025 | Secured Digital Dashboard</div>
</footer>

<script>
    const DB_KEY = 'dm_cyber_ultimate_master_db';
    const SITE_KEY = 'dm_cyber_site_content';
    let currentMode = 'all';

    // 1. Page Content Load
    window.onload = function() {
        const savedContent = JSON.parse(localStorage.getItem(SITE_KEY));
        if(savedContent) {
            document.getElementById('edit-title').innerHTML = savedContent.title;
            document.getElementById('edit-owner').innerText = savedContent.owner;
            document.getElementById('edit-tag').innerText = savedContent.tag;
            document.getElementById('edit-loc').innerText = savedContent.loc;
        }
    };

    // 2. Submit Data
    function submitData() {
        let n = document.getElementById('cust_n').value;
        let p = document.getElementById('cust_p').value;
        let w = document.getElementById('cust_w').value;
        let t = document.getElementById('cust_type').value;
        let d = document.getElementById('cust_d').value;

        if(!n || !p || !w || !d) { alert("‡§∏‡§≠‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≠‡§∞‡•á‡§Ç!"); return; }

        let list = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
        list.push({ id: Date.now(), n, p, w, t, d });
        localStorage.setItem(DB_KEY, JSON.stringify(list));

        alert("‡§°‡§æ‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•ã ‡§ó‡§Ø‡§æ!");
        location.reload();
    }

    // 3. Admin Login & Controls
    function loginAdmin() {
        let pin = prompt("‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡§ø‡§® ‡§°‡§æ‡§≤‡•á‡§Ç:");
        if(pin === "1234") {
            document.getElementById('admin-panel').style.display = 'block';
            document.getElementById('edit-controls').style.display = 'block';
            document.getElementById('main-body').classList.add('edit-active');
            
            // Enable Content Editing
            const editables = document.querySelectorAll('.editable');
            editables.forEach(el => el.contentEditable = "true");

            loadAdminData();
        } else { alert("‡§ó‡§≤‡§§ ‡§™‡§ø‡§®!"); }
    }

    function savePageEdits() {
        const content = {
            title: document.getElementById('edit-title').innerHTML,
            owner: document.getElementById('edit-owner').innerText,
            tag: document.getElementById('edit-tag').innerText,
            loc: document.getElementById('edit-loc').innerText
        };
        localStorage.setItem(SITE_KEY, JSON.stringify(content));
        alert("‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡•á ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§è!");
        location.reload();
    }

    // 4. Admin Table Logic
    function loadAdminData() {
        let data = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
        if(currentMode === 'udhar') {
            data = data.filter(item => item.t === 'Udhar');
        }
        renderRows(data);
    }

    function renderRows(data) {
        let rows = data.map(i => `
            <tr style="color: ${i.t === 'Udhar' ? 'red' : 'black'}">
                <td>${i.n}</td>
                <td>${i.p}</td>
                <td>${i.w}</td>
                <td>${i.t === 'Udhar' ? 'üìï ‡§â‡§ß‡§æ‡§∞' : '‚úÖ ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø'}</td>
                <td>${i.d}</td>
                <td><button class="del-btn" onclick="deleteItem(${i.id})">X</button></td>
            </tr>
        `).reverse().join('');
        document.getElementById('admin-rows').innerHTML = rows || "<tr><td colspan='6' align='center'>‡§ï‡•ã‡§à ‡§°‡§æ‡§ü‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à</td></tr>";
    }

    function switchTab(mode) {
        currentMode = mode;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        loadAdminData();
    }

    function filterAdminTable() {
        let val = document.getElementById('admin-search').value.toLowerCase();
        let data = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
        let filtered = data.filter(i => i.n.toLowerCase().includes(val) || i.p.includes(val));
        renderRows(filtered);
    }

    function deleteItem(id) {
        if(confirm("‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡•á‡§Ç?")) {
            let data = JSON.parse(localStorage.getItem(DB_KEY) || '[]');
            let filtered = data.filter(i => i.id !== id);
            localStorage.setItem(DB_KEY, JSON.stringify(filtered));
            loadAdminData();
        }
    }

    function closeAdmin() {
        document.getElementById('admin-panel').style.display = 'none';
        location.reload();
    }
</script>
</body>
</html>
