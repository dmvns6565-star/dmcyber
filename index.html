<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.M Cyber - Customer Portal</title>
    <style>
        :root {
            --dark-blue: #004a99;
            --orange: #ff851b;
            --white: #ffffff;
            --light-gray: #f5f7fa;
            --red: #d32f2f;
            --green: #2e7d32;
            --purple: #6a1b9a;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: var(--light-gray);
            color: #333;
            line-height: 1.6;
        }
        
        /* HEADER */
        header {
            background-color: var(--dark-blue);
            text-align: center;
            padding: 25px 10px;
            color: white;
            border-bottom: 8px solid var(--orange);
        }
        
        .logo-container {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 4px solid var(--orange);
            padding: 10px;
        }
        
        .logo-container img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        
        .dm-brand {
            font-size: 2.2em;
            font-weight: 900;
            margin: 0;
            line-height: 1.2;
        }
        
        .dm-brand span {
            color: var(--orange);
        }
        
        .owner-info {
            font-weight: bold;
            font-size: 1em;
            margin: 10px 0;
        }
        
        .orange-pill {
            background: var(--orange);
            color: white;
            padding: 6px 20px;
            border-radius: 50px;
            font-weight: bold;
            display: inline-block;
            border: 2px solid white;
            text-transform: uppercase;
            margin-top: 10px;
            font-size: 0.9em;
        }
        
        /* MAIN CONTAINER */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 15px 30px;
        }
        
        /* ACTION BOX */
        .action-box {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            text-align: center;
            margin-top: -20px;
            border: 1px solid #eee;
            position: relative;
        }
        
        .action-box h2 {
            color: var(--dark-blue);
            border-bottom: 2px solid var(--orange);
            padding-bottom: 12px;
            margin-bottom: 20px;
            font-size: 1.4em;
        }
        
        /* FORM STYLES */
        .form-input {
            width: 100%;
            max-width: 500px;
            padding: 12px 15px;
            margin-bottom: 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 1em;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .submit-btn {
            background: var(--orange);
            color: white;
            width: 100%;
            max-width: 500px;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1em;
            cursor: pointer;
            display: block;
            margin: 15px auto;
            transition: background 0.3s;
        }
        
        .submit-btn:hover {
            background: #e67600;
        }
        
        /* BUTTON STYLES */
        .btn-flex {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .btn {
            border-radius: 50px;
            padding: 10px 18px;
            color: white;
            border: none;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            font-size: 0.9em;
        }
        
        .btn-call { background: var(--dark-blue); }
        .btn-qr { background: var(--purple); }
        .btn-admin { background: #444; }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        /* SECTION TAGS */
        .section-tag {
            background: linear-gradient(90deg, var(--dark-blue) 50%, var(--orange) 50%);
            color: white;
            padding: 8px 25px;
            border-radius: 50px;
            display: inline-block;
            margin: 25px 0 15px;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            font-size: 0.9em;
        }
        
        /* GRIDS */
        .grid-services {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .grid-forms {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .box {
            background: white;
            padding: 15px 8px;
            border-radius: 10px;
            font-weight: bold;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            color: var(--dark-blue);
            border-bottom: 3px solid var(--orange);
            text-align: center;
            font-size: 0.85em;
            transition: all 0.3s;
        }
        
        .box:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 12px rgba(0,0,0,0.1);
        }
        
        /* RATE TABLE */
        .rate-table {
            width: 100%;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            margin-top: 15px;
            border-collapse: collapse;
        }
        
        .rate-table th {
            background: var(--dark-blue);
            color: white;
            padding: 12px 15px;
            text-align: left;
            font-size: 0.9em;
        }
        
        .rate-table td {
            padding: 10px 15px;
            border-bottom: 1px solid #eee;
            font-size: 0.9em;
        }
        
        .rate-table tr:hover {
            background-color: #f9f9f9;
        }
        
        /* ADMIN PANEL */
        #admin-panel {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 15px;
            border: 4px solid var(--dark-blue);
            margin-top: 25px;
        }
        
        .admin-sec {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
        }
        
        .admin-sec h4 {
            margin-bottom: 12px;
            color: var(--dark-blue);
            border-bottom: 1px solid #ddd;
            padding-bottom: 6px;
            font-size: 1em;
        }
        
        .manage-list {
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
            background: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 8px;
            font-size: 0.85em;
        }
        
        /* MODALS */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        .modal-content h3 {
            color: var(--dark-blue);
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        /* PIN INPUT */
        .pin-input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
            letter-spacing: 8px;
            font-family: monospace;
        }
        
        .pin-input:focus {
            border-color: var(--orange);
            outline: none;
        }
        
        .pin-error {
            color: var(--red);
            margin: 8px 0;
            font-size: 0.9em;
            display: none;
        }
        
        /* ALERT STYLES */
        .alert-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--green);
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
            max-width: 300px;
        }
        
        .alert-error {
            background: var(--red);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* FOOTER */
        footer {
            background-color: var(--dark-blue);
            color: white;
            padding: 25px 15px;
            text-align: center;
            border-top: 6px solid var(--orange);
            margin-top: 30px;
        }
        
        footer h2 {
            font-size: 1.5em;
            font-weight: 900;
            margin-bottom: 8px;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .dm-brand {
                font-size: 1.8em;
            }
            
            .btn-flex {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 250px;
                justify-content: center;
            }
            
            .action-box {
                padding: 20px 15px;
            }
            
            .grid-services,
            .grid-forms {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .alert-message {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
            }
        }
        
        @media (max-width: 480px) {
            .logo-container {
                width: 80px;
                height: 80px;
            }
            
            .dm-brand {
                font-size: 1.5em;
            }
            
            .grid-services,
            .grid-forms {
                grid-template-columns: 1fr;
            }
            
            .section-tag {
                padding: 6px 18px;
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>

<!-- Alert Container -->
<div id="alert-container"></div>

<!-- Header Section -->
<header>
    <div class="logo-container">
        <img src="https://i.postimg.cc/mDF47CS1/Gemini-Generated-Image-dp4mkadp4mkadp4m.png" alt="D.M Cyber Logo">
    </div>
    <h1 class="dm-brand" id="disp-title">D.M <span>Cyber</span></h1>
    <p class="owner-info" id="disp-owner">‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: ‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø</p>
    <div class="orange-pill">‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä</div>
</header>

<!-- Main Container -->
<div class="container">
    <!-- Customer Action Box -->
    <div class="action-box">
        <h2>üìù ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡•á‡§µ‡§æ ‡§´‡•â‡§∞‡•ç‡§Æ</h2>
        
        <input type="text" id="cust-n" class="form-input" placeholder="‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ *" required>
        <input type="tel" id="cust-p" class="form-input" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ *" maxlength="10" required>
        <input type="text" id="cust-addr" class="form-input" placeholder="‡§™‡§§‡§æ (‡§ó‡§æ‡§Å‡§µ/‡§∂‡§π‡§∞)">
        <input type="text" id="cust-w" class="form-input" placeholder="‡§ï‡§æ‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ *" required>
        
        <select id="cust-m" class="form-input">
            <option value="DATA">‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§°‡§æ‡§ü‡§æ</option>
        </select>
        
        <textarea id="cust-q" class="form-input" placeholder="‡§µ‡§ø‡§∂‡•á‡§∑ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä..." rows="2"></textarea>
        
        <button class="submit-btn" onclick="saveCustomer()">‚úÖ WhatsApp ‡§™‡§∞ ‡§≠‡•á‡§ú‡•á‡§Ç</button>
        
        <div class="btn-flex">
            <button class="btn btn-call" onclick="window.open('tel:8303585793')">üìû ‡§ï‡•â‡§≤</button>
            <button class="btn btn-qr" onclick="openQR()">üí≥ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü QR</button>
            <button class="btn btn-admin" onclick="openPinModal()">‚öôÔ∏è ‡§è‡§°‡§Æ‡§ø‡§®</button>
        </div>
    </div>

    <!-- Popular Services -->
    <center><div class="section-tag">‚≠ê ‡§≤‡•ã‡§ï‡§™‡•ç‡§∞‡§ø‡§Ø ‡§∏‡•á‡§µ‡§æ‡§è‡§Å</div></center>
    <div class="grid-services" id="show-services"></div>

    <!-- Important Forms -->
    <center><div class="section-tag">üìã ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§´‡•â‡§∞‡•ç‡§Æ</div></center>
    <div class="grid-forms" id="show-forms"></div>

    <!-- Rate List -->
    <center><div class="section-tag">üí∞ ‡§∞‡•á‡§ü ‡§≤‡§ø‡§∏‡•ç‡§ü</div></center>
    <table class="rate-table">
        <thead>
            <tr>
                <th>‡§∏‡•á‡§µ‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ</th>
                <th>‡§∂‡•Å‡§≤‡•ç‡§ï</th>
            </tr>
        </thead>
        <tbody id="show-rates"></tbody>
    </table>

    <!-- Admin Panel -->
    <div id="admin-panel">
        <h2 style="text-align:center; color:var(--dark-blue); margin-bottom:15px;">üõ†Ô∏è ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤</h2>
        
        <!-- Shop Information -->
        <div class="admin-sec">
            <h4>1. ‡§¶‡•Å‡§ï‡§æ‡§® ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</h4>
            <input type="text" id="in-news" class="form-input" placeholder="‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞ ‡§™‡§ü‡•ç‡§ü‡•Ä">
            <input type="text" id="in-title" class="form-input" placeholder="‡§¶‡•Å‡§ï‡§æ‡§® ‡§ï‡§æ ‡§®‡§æ‡§Æ">
            <input type="text" id="in-owner" class="form-input" placeholder="‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ">
            <input type="text" id="in-loc" class="form-input" placeholder="‡§∏‡•ç‡§•‡§æ‡§®">
            <input type="tel" id="in-phone" class="form-input" placeholder="WhatsApp ‡§®‡§Ç‡§¨‡§∞">
            <input type="text" id="in-upi" class="form-input" placeholder="UPI ID">
        </div>

        <!-- PIN Change -->
        <div class="admin-sec">
            <h4>2. ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡§ø‡§® ‡§¨‡§¶‡§≤‡•á‡§Ç</h4>
            <input type="password" id="current-pin" class="form-input" placeholder="‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§™‡§ø‡§®" maxlength="4">
            <input type="password" id="new-pin" class="form-input" placeholder="‡§®‡§Ø‡§æ ‡§™‡§ø‡§® (4 ‡§Ö‡§Ç‡§ï)" maxlength="4">
            <input type="password" id="confirm-pin" class="form-input" placeholder="‡§™‡§ø‡§® ‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ" maxlength="4">
            <button onclick="changePin()" class="submit-btn" style="background:var(--purple);">üîÑ ‡§™‡§ø‡§® ‡§¨‡§¶‡§≤‡•á‡§Ç</button>
            <p id="pin-message" style="margin-top:8px; font-size:0.85em;"></p>
        </div>

        <!-- Service/Form Management -->
        <div class="admin-sec">
            <h4>3. ‡§∏‡•á‡§µ‡§æ / ‡§´‡•â‡§∞‡•ç‡§Æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</h4>
            <input type="text" id="in-item-name" class="form-input" placeholder="‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
            <select id="in-item-type" class="form-input">
                <option value="service">‡§∏‡•á‡§µ‡§æ</option>
                <option value="form">‡§´‡•â‡§∞‡•ç‡§Æ</option>
            </select>
            <button onclick="addMasterItem()" class="submit-btn" style="background:var(--green);">+ ‡§ú‡•ã‡•ú‡•á‡§Ç</button>
            <div class="manage-list" id="list-items"></div>
        </div>

        <!-- Rate List Management -->
        <div class="admin-sec">
            <h4>4. ‡§∞‡•á‡§ü ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</h4>
            <input type="text" id="in-rate-name" class="form-input" placeholder="‡§∏‡•á‡§µ‡§æ ‡§ï‡§æ ‡§®‡§æ‡§Æ">
            <input type="text" id="in-rate-price" class="form-input" placeholder="‡§∂‡•Å‡§≤‡•ç‡§ï (‚Çπ)">
            <button onclick="addMasterRate()" class="submit-btn" style="background:var(--dark-blue);">+ ‡§ú‡•ã‡•ú‡•á‡§Ç</button>
            <div class="manage-list" id="list-rates"></div>
        </div>

        <!-- Save Button -->
        <button onclick="saveAllMasterData()" class="submit-btn" style="background:var(--orange); margin-top:10px;">üíæ ‡§∏‡§≠‡•Ä ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<!-- Footer -->
<footer>
    <h2 id="foot-title">D.M Cyber</h2>
    <p id="foot-loc">A-Z ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§∏‡•á‡§Ç‡§ü‡§∞</p>
    <p style="font-size:0.9em; margin-top:5px;">¬© 2025 | ‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä, ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂</p>
</footer>

<!-- PIN Login Modal -->
<div id="pin-modal" class="modal">
    <div class="modal-content">
        <h3>üîê ‡§è‡§°‡§Æ‡§ø‡§® ‡§≤‡•â‡§ó‡§ø‡§®</h3>
        <p style="margin-bottom: 10px; color: #666; font-size:0.9em;">‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡§ø‡§® ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç</p>
        <input type="password" id="pin-input" class="pin-input" placeholder="****" maxlength="4" autocomplete="off">
        <div class="pin-error" id="pin-error">‚ùå ‡§ó‡§≤‡§§ ‡§™‡§ø‡§®! ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç</div>
        <div style="margin-top: 15px;">
            <button onclick="verifyPin()" class="submit-btn" style="background:var(--dark-blue);">‡§≤‡•â‡§ó‡§ø‡§®</button>
            <button onclick="closePinModal()" class="submit-btn" style="background:#666; margin-top:8px;">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>
</div>

<!-- QR Modal -->
<div id="qr-modal" class="modal">
    <div class="modal-content">
        <h3>üí≥ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü QR ‡§ï‡•ã‡§°</h3>
        <div style="margin:15px auto; text-align:center;">
            <div style="background:#fff; padding:15px; border-radius:8px; display:inline-block; border:2px solid #ddd;">
                <div style="width:180px; height:180px; background:#f5f5f5; display:flex; align-items:center; justify-content:center; border-radius:5px;">
                    <span style="font-size:13px; color:#666; text-align:center;">QR Code<br>UPI: <br><strong id="qr-upi">dm0827717@ybl</strong></span>
                </div>
            </div>
        </div>
        <p id="upi-label" style="font-weight:bold; margin:10px 0; font-size:16px; color:#2c3e50;"></p>
        <button onclick="closeQR()" class="submit-btn" style="background:var(--dark-blue);">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<script>
    // ====================
    // SECURITY CONFIGURATION
    // ====================
    let adminPin = "4321"; // Default PIN
    let loginAttempts = 0;
    const MAX_ATTEMPTS = 3;
    const LOCKOUT_TIME = 30000; // 30 seconds
    
    let config = {
        news: "D.M Cyber ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à",
        title: "D.M Cyber",
        owner: "‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: ‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø",
        loc: "‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä",
        phone: "8303585793",
        upi: "dhirajmaurya@okaxis",
        services: ["‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°", "‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§°", "‡§µ‡•ã‡§ü‡§∞ ‡§Ü‡§à‡§°‡•Ä"],
        forms: ["‡§Ü‡§Ø‡•Å‡§∑‡•ç‡§Æ‡§æ‡§® ‡§ï‡§æ‡§∞‡•ç‡§°", "‡§µ‡§ø‡§∂‡•ç‡§µ‡§ï‡§∞‡•ç‡§Æ‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ"],
        rates: [
            {n: "‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°", p: "‚Çπ200"},
            {n: "‡§Ü‡§ß‡§æ‡§∞ ‡§Ö‡§™‡§°‡•á‡§ü", p: "‚Çπ100"},
            {n: "‡§µ‡•ã‡§ü‡§∞ ‡§Ü‡§à‡§°‡•Ä", p: "‚Çπ150"}
        ]
    };

    // ====================
    // ALERT FUNCTION
    // ====================
    function showAlert(message, isError = false) {
        const alertContainer = document.getElementById('alert-container');
        const alertDiv = document.createElement('div');
        alertDiv.className = isError ? 'alert-message alert-error' : 'alert-message';
        alertDiv.innerHTML = `
            ${isError ? '‚ùå' : '‚úÖ'} 
            <span>${message}</span>
        `;
        
        alertContainer.appendChild(alertDiv);
        
        // Auto remove after 3 seconds
        setTimeout(() => {
            alertDiv.style.animation = 'slideIn 0.3s ease reverse';
            setTimeout(() => {
                alertContainer.removeChild(alertDiv);
            }, 300);
        }, 3000);
    }

    // ====================
    // WHATSAPP FUNCTION
    // ====================
    function saveCustomer() {
        const name = document.getElementById('cust-n').value.trim();
        const phone = document.getElementById('cust-p').value.trim();
        const address = document.getElementById('cust-addr').value.trim();
        const work = document.getElementById('cust-w').value.trim();
        const notes = document.getElementById('cust-q').value.trim();
        
        // Validation
        if (!name || !phone || !work) {
            showAlert("‚ùå ‡§®‡§æ‡§Æ, ‡§®‡§Ç‡§¨‡§∞ ‡§î‡§∞ ‡§ï‡§æ‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§Ö‡§®‡§ø‡§µ‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à!", true);
            return;
        }
        
        if (phone.length !== 10 || !/^\d+$/.test(phone)) {
            showAlert("‚ùå ‡§ï‡•É‡§™‡§Ø‡§æ 10 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§µ‡•à‡§ß ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!", true);
            return;
        }

        // Prepare WhatsApp message
        let message = `*D.M Cyber - ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä*\n\n`;
        message += `*‡§®‡§æ‡§Æ:* ${name}\n`;
        message += `*‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤:* ${phone}\n`;
        if (address) message += `*‡§™‡§§‡§æ:* ${address}\n`;
        message += `*‡§ï‡§æ‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ:* ${work}\n`;
        if (notes) message += `*‡§µ‡§ø‡§∂‡•á‡§∑ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä:* ${notes}\n\n`;
        message += `*‡§¶‡•Å‡§ï‡§æ‡§®:* D.M Cyber\n`;
        message += `*‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï:* ‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø\n`;
        message += `*‡§§‡§ø‡§•‡§ø:* ${new Date().toLocaleDateString('hi-IN')}\n`;
        message += `*‡§∏‡§Æ‡§Ø:* ${new Date().toLocaleTimeString('hi-IN', {hour: '2-digit', minute:'2-digit'})}`;
        
        // Encode message for URL
        const encodedMessage = encodeURIComponent(message);
        const whatsappNumber = config.phone;
        
        // Open WhatsApp with pre-filled message
        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
        
        // Clear form fields
        document.getElementById('cust-n').value = '';
        document.getElementById('cust-p').value = '';
        document.getElementById('cust-addr').value = '';
        document.getElementById('cust-w').value = '';
        document.getElementById('cust-q').value = '';
        
        // Show success message
        showAlert("‚úÖ WhatsApp ‡§ñ‡•ã‡§≤‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à...");
        
        // Open WhatsApp after a short delay
        setTimeout(() => {
            window.open(whatsappURL, '_blank');
        }, 1000);
    }

    // ====================
    // INITIAL RENDER
    // ====================
    function render() {
        // Display shop info
        document.getElementById('disp-title').innerHTML = `D.M <span>Cyber</span>`;
        document.getElementById('disp-owner').innerText = config.owner;
        document.getElementById('foot-title').innerHTML = `D.M <span>Cyber</span>`;
        document.getElementById('foot-loc').innerText = `A-Z ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§∏‡•á‡§Ç‡§ü‡§∞ | ${config.loc}`;
        
        // Fill admin inputs
        document.getElementById('in-news').value = config.news;
        document.getElementById('in-title').value = config.title;
        document.getElementById('in-owner').value = config.owner.replace('‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: ', '');
        document.getElementById('in-loc').value = config.loc;
        document.getElementById('in-phone').value = config.phone;
        document.getElementById('in-upi').value = config.upi;
        
        // Render services
        document.getElementById('show-services').innerHTML = 
            config.services.map(service => `<div class="box">${service}</div>`).join('');
        
        // Render forms
        document.getElementById('show-forms').innerHTML = 
            config.forms.map(form => `<div class="box">${form}</div>`).join('');
        
        // Render rates
        document.getElementById('show-rates').innerHTML = 
            config.rates.map(rate => `<tr><td>${rate.n}</td><td><strong>${rate.p}</strong></td></tr>`).join('');
        
        // Render items list for admin
        let itemsHtml = '';
        config.services.forEach((item, index) => {
            itemsHtml += `<div>${index+1}. ${item} <button onclick="removeItem('services', ${index})" style="background:var(--red); color:white; border:none; border-radius:3px; padding:2px 6px; margin-left:8px; cursor:pointer; font-size:0.8em;">X</button></div>`;
        });
        config.forms.forEach((item, index) => {
            itemsHtml += `<div>${index+1}. ${item} <button onclick="removeItem('forms', ${index})" style="background:var(--red); color:white; border:none; border-radius:3px; padding:2px 6px; margin-left:8px; cursor:pointer; font-size:0.8em;">X</button></div>`;
        });
        document.getElementById('list-items').innerHTML = itemsHtml;
        
        // Render rates list for admin
        document.getElementById('list-rates').innerHTML = 
            config.rates.map((rate, index) => 
                `<div>${index+1}. ${rate.n}: ${rate.p} <button onclick="removeRate(${index})" style="background:var(--red); color:white; border:none; border-radius:3px; padding:2px 6px; margin-left:8px; cursor:pointer; font-size:0.8em;">X</button></div>`
            ).join('');
    }

    // ====================
    // SECURITY FUNCTIONS
    // ====================
    function openPinModal() {
        if (loginAttempts >= MAX_ATTEMPTS) {
            showAlert(`‚ùå ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ß‡§ø‡§ï ‡§ó‡§≤‡§§ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏! ${LOCKOUT_TIME/1000} ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§`, true);
            return;
        }
        document.getElementById('pin-modal').style.display = 'flex';
        document.getElementById('pin-input').value = '';
        document.getElementById('pin-error').style.display = 'none';
        document.getElementById('pin-input').focus();
    }
    
    function closePinModal() {
        document.getElementById('pin-modal').style.display = 'none';
        document.getElementById('pin-input').value = '';
        document.getElementById('pin-error').style.display = 'none';
    }
    
    function verifyPin() {
        const enteredPin = document.getElementById('pin-input').value;
        
        if (loginAttempts >= MAX_ATTEMPTS) {
            document.getElementById('pin-error').innerHTML = `‚ùå ‡§Ö‡§ï‡§æ‡§â‡§Ç‡§ü ‡§≤‡•â‡§ï! ${LOCKOUT_TIME/1000} ‡§∏‡•á‡§ï‡§Ç‡§° ‡§¨‡§æ‡§¶ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç`;
            document.getElementById('pin-error').style.display = 'block';
            return;
        }
        
        if (enteredPin.length !== 4) {
            document.getElementById('pin-error').innerHTML = "‚ùå ‡§™‡§ø‡§® 4 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è";
            document.getElementById('pin-error').style.display = 'block';
            return;
        }
        
        if (enteredPin === adminPin) {
            // Correct PIN
            loginAttempts = 0;
            closePinModal();
            document.getElementById('admin-panel').style.display = 'block';
            window.scrollTo({ top: document.getElementById('admin-panel').offsetTop, behavior: 'smooth' });
            showAlert("‚úÖ ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤ ‡§ñ‡•Å‡§≤ ‡§ó‡§Ø‡§æ!");
        } else {
            // Wrong PIN
            loginAttempts++;
            document.getElementById('pin-error').innerHTML = `‚ùå ‡§ó‡§≤‡§§ ‡§™‡§ø‡§®! ${MAX_ATTEMPTS - loginAttempts} ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§¨‡§ö‡•á`;
            document.getElementById('pin-error').style.display = 'block';
            document.getElementById('pin-input').value = '';
            document.getElementById('pin-input').focus();
            
            if (loginAttempts >= MAX_ATTEMPTS) {
                setTimeout(() => {
                    loginAttempts = 0;
                }, LOCKOUT_TIME);
            }
        }
    }
    
    function changePin() {
        const current = document.getElementById('current-pin').value;
        const newPin = document.getElementById('new-pin').value;
        const confirmPin = document.getElementById('confirm-pin').value;
        
        // Clear previous message
        const pinMsg = document.getElementById('pin-message');
        pinMsg.innerHTML = '';
        pinMsg.style.color = '';
        
        // Validation
        if (!current || !newPin || !confirmPin) {
            pinMsg.innerHTML = "‚ùå ‡§∏‡§≠‡•Ä ‡§´‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç!";
            pinMsg.style.color = "var(--red)";
            return;
        }
        
        if (current !== adminPin) {
            pinMsg.innerHTML = "‚ùå ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§™‡§ø‡§® ‡§ó‡§≤‡§§ ‡§π‡•à!";
            pinMsg.style.color = "var(--red)";
            return;
        }
        
        if (newPin.length !== 4) {
            pinMsg.innerHTML = "‚ùå ‡§®‡§Ø‡§æ ‡§™‡§ø‡§® 4 ‡§Ö‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è!";
            pinMsg.style.color = "var(--red)";
            return;
        }
        
        if (newPin !== confirmPin) {
            pinMsg.innerHTML = "‚ùå ‡§®‡§Ø‡§æ ‡§™‡§ø‡§® ‡§Æ‡•á‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§ñ‡§æ ‡§∞‡§π‡§æ!";
            pinMsg.style.color = "var(--red)";
            return;
        }
        
        if (newPin === current) {
            pinMsg.innerHTML = "‚ùå ‡§®‡§Ø‡§æ ‡§™‡§ø‡§® ‡§™‡•Å‡§∞‡§æ‡§®‡•á ‡§∏‡•á ‡§Ö‡§≤‡§ó ‡§π‡•ã‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è!";
            pinMsg.style.color = "var(--red)";
            return;
        }
        
        // Change PIN
        adminPin = newPin;
        
        // Clear fields
        document.getElementById('current-pin').value = '';
        document.getElementById('new-pin').value = '';
        document.getElementById('confirm-pin').value = '';
        
        // Show success
        pinMsg.innerHTML = "‚úÖ ‡§™‡§ø‡§® ‡§¨‡§¶‡§≤ ‡§ó‡§Ø‡§æ!";
        pinMsg.style.color = "var(--green)";
        
        // Auto hide message
        setTimeout(() => {
            pinMsg.innerHTML = '';
        }, 3000);
    }

    // ====================
    // ADMIN FUNCTIONS
    // ====================
    function addMasterItem() {
        const name = document.getElementById('in-item-name').value.trim();
        const type = document.getElementById('in-item-type').value;
        
        if (!name) {
            showAlert("‚ùå ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç!", true);
            return;
        }
        
        if (type === 'service') {
            config.services.push(name);
        } else {
            config.forms.push(name);
        }
        
        document.getElementById('in-item-name').value = '';
        render();
        showAlert(`‚úÖ ${type === 'service' ? '‡§∏‡•á‡§µ‡§æ' : '‡§´‡•â‡§∞‡•ç‡§Æ'} ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!`);
    }
    
    function addMasterRate() {
        const name = document.getElementById('in-rate-name').value.trim();
        const price = document.getElementById('in-rate-price').value.trim();
        
        if (!name || !price) {
            showAlert("‚ùå ‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§∂‡•Å‡§≤‡•ç‡§ï ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§≠‡§∞‡•á‡§Ç!", true);
            return;
        }
        
        config.rates.push({ n: name, p: price });
        
        document.getElementById('in-rate-name').value = '';
        document.getElementById('in-rate-price').value = '';
        render();
        showAlert("‚úÖ ‡§∞‡•á‡§ü ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!");
    }
    
    function removeItem(type, index) {
        const itemName = type === 'services' ? config.services[index] : config.forms[index];
        if (confirm(`‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ "${itemName}" ‡§π‡§ü‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?`)) {
            if (type === 'services') {
                config.services.splice(index, 1);
            } else {
                config.forms.splice(index, 1);
            }
            render();
            showAlert("‚úÖ ‡§Ü‡§á‡§ü‡§Æ ‡§π‡§ü‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ!");
        }
    }
    
    function removeRate(index) {
        if (confirm(`‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ "${config.rates[index].n}" ‡§π‡§ü‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?`)) {
            config.rates.splice(index, 1);
            render();
            showAlert("‚úÖ ‡§∞‡•á‡§ü ‡§π‡§ü‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ!");
        }
    }
    
    function saveAllMasterData() {
        // Update config from inputs
        config.news = document.getElementById('in-news').value || config.news;
        config.title = document.getElementById('in-title').value || config.title;
        config.owner = "‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: " + (document.getElementById('in-owner').value || "‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø");
        config.loc = document.getElementById('in-loc').value || config.loc;
        config.phone = document.getElementById('in-phone').value || config.phone;
        config.upi = document.getElementById('in-upi').value || config.upi;
        
        showAlert("‚úÖ ‡§∏‡§≠‡•Ä ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§!");
        render();
    }

    // ====================
    // QR FUNCTIONS
    // ====================
    function openQR() {
        document.getElementById('qr-modal').style.display = 'flex';
        document.getElementById('qr-upi').innerText = config.upi;
        document.getElementById('upi-label').innerText = config.upi;
    }
    
    function closeQR() {
        document.getElementById('qr-modal').style.display = 'none';
    }

    // ====================
    // PAGE LOAD
    // ====================
    window.onload = function() {
        render();
        
        // Number input validation
        document.getElementById('cust-p').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10);
        });
        
        // Enter key for PIN input
        document.getElementById('pin-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') verifyPin();
        });
        
        // Enter key for form submission
        document.querySelectorAll('.form-input').forEach(input => {
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !this.classList.contains('pin-input')) {
                    saveCustomer();
                }
            });
        });
        
        // Security info
        console.log("‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§¨‡§Ç‡§¶ | ‡§™‡§ø‡§®:", adminPin);
    };
</script>
</body>
</html>
