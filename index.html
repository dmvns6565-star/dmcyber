<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.M Cyber Varanasi - Official</title>
    <style>
        :root { 
            --orange: #ff851b; 
            --blue: #004a99; 
            --dark-blue: #001c3d;
            --bg: #f4f7f6; 
            --card: #ffffff; 
            --text: #333; 
        }
        [data-theme="dark"] {
            --bg: #0a0a0a; --card: #1a1a1a; --text: #ffffff; --blue: #1e88e5;
        }

        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background-color: var(--bg); color: var(--text); transition: 0.3s; }

        /* HEADER AS PER IMAGE */
        header { 
            background: linear-gradient(to bottom, #004a99, #001c3d); 
            text-align: center; padding: 40px 10px 60px; color: white; 
            border-bottom: 6px solid var(--orange); position: relative;
        }
        .header-logo-circle {
            width: 100px; height: 100px; background: white; border-radius: 50%;
            margin: 0 auto 15px; border: 4px solid var(--orange); display: flex; align-items: center; justify-content: center; overflow: hidden;
        }
        .header-tagline { font-style: italic; opacity: 0.9; margin: 5px 0; font-size: 0.9em; }
        .operator-box { background: var(--orange); color: white; padding: 5px 20px; border-radius: 20px; display: inline-block; font-weight: bold; margin-top: 10px; }

        /* NEWS MARQUEE FIX */
        .news-wrapper { margin: 15px auto; max-width: 1100px; padding: 0 10px; }
        .news-box { 
            background: var(--card); border: 2px solid var(--orange); border-radius: 8px; 
            display: flex; align-items: center; height: 45px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .news-label { background: var(--orange); color: white; padding: 0 15px; font-weight: bold; height: 100%; display: flex; align-items: center; white-space: nowrap; }
        marquee { font-weight: bold; font-size: 1.1em; color: var(--text); }

        /* ACTIONS & BUTTONS */
        .container { max-width: 1100px; margin: 0 auto; padding: 0 15px 100px; }
        .action-card { 
            background: var(--card); border-radius: 15px; padding: 20px; 
            margin-top: -30px; border: 2px solid var(--orange); box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; position: relative; z-index: 5;
        }
        .btn { 
            padding: 12px 20px; border-radius: 8px; color: white; font-weight: bold; text-decoration: none; 
            display: flex; align-items: center; gap: 8px; font-size: 14px; border: none; cursor: pointer;
        }

        /* SECTION HEADINGS */
        .section-title { 
            background: var(--orange); color: white; padding: 10px 30px; border-radius: 5px; 
            display: inline-block; margin: 30px 0 15px; font-weight: bold; border-left: 8px solid var(--blue);
        }

        /* GRID SYSTEM */
        .grid-5 { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .box-item { background: var(--card); padding: 20px 10px; border-radius: 10px; text-align: center; font-weight: bold; border: 1px solid #ddd; border-bottom: 4px solid var(--blue); color: var(--text); }

        /* DATA ENTRY FORM */
        .form-card { background: var(--card); padding: 25px; border-radius: 15px; border: 2px solid var(--blue); margin: 20px 0; }
        input, select, textarea { width: 100%; padding: 14px; margin-bottom: 15px; border-radius: 8px; border: 1px solid #ccc; background: var(--bg); color: var(--text); box-sizing: border-box; }

        /* FOOTER AS PER IMAGE */
        footer { background: var(--dark-blue); color: white; text-align: center; padding: 40px 20px; border-top: 6px solid var(--orange); }
        footer p { margin: 8px 0; opacity: 0.9; }

        /* ADMIN PANEL */
        #admin-panel { display: none; background: var(--card); padding: 20px; border: 4px solid var(--orange); border-radius: 15px; margin-top: 20px; }
        .admin-sec { padding: 15px; border: 1px dashed var(--blue); margin-bottom: 15px; border-radius: 10px; }

        /* AI ASSISTANT */
        .ai-btn { position: fixed; bottom: 25px; right: 25px; background: var(--orange); width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 30px; border: 3px solid white; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 1000; }
        #ai-box { display: none; position: fixed; bottom: 100px; right: 25px; width: 320px; height: 450px; background: var(--card); border-radius: 15px; border: 2px solid var(--orange); flex-direction: column; overflow: hidden; z-index: 1000; box-shadow: 0 10px 40px rgba(0,0,0,0.4); }
        .ai-head { background: var(--blue); color: white; padding: 15px; font-weight: bold; display: flex; justify-content: space-between; }
        .ai-msgs { flex: 1; overflow-y: auto; padding: 15px; background: var(--bg); display: flex; flex-direction: column; gap: 10px; }
        .msg-ai { background: var(--card); padding: 10px; border-radius: 10px 10px 10px 0; border-left: 4px solid var(--orange); align-self: flex-start; max-width: 80%; font-size: 14px; color: var(--text); }
        .msg-user { background: var(--orange); color: white; padding: 10px; border-radius: 10px 10px 0 10px; align-self: flex-end; max-width: 80%; font-size: 14px; }

        @media (max-width: 768px) { .grid-5 { grid-template-columns: repeat(2, 1fr); } .grid-3 { grid-template-columns: 1fr; } }
    </style>
</head>
<body data-theme="light">

<header>
    <button class="theme-btn" onclick="toggleTheme()" style="position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer;">üåì</button>
    <div class="header-logo-circle"><img id="disp-logo" src="" style="width: 85%;"></div>
    <h1 style="margin:0; font-size: 2.2em;">D.M <span style="color:var(--orange);">Cyber</span></h1>
    <p class="header-tagline">"‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ, ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡§π‡§ö‡§æ‡§®"</p>
    <div class="operator-box">‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: ‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø‡§æ</div>
    <p style="font-size: 14px; margin-top: 10px;">‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä ‡§ï‡§æ ‡§®‡§Ç‡§¨‡§∞ 1 ‡§ú‡§® ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</p>
</header>

<div class="news-wrapper">
    <div class="news-box">
        <div class="news-label">NEW UPDATE</div>
        <marquee id="disp-news" behavior="scroll" direction="left" scrollamount="6"></marquee>
    </div>
</div>

<div class="container">
    <div class="action-card">
        <a id="call-btn" class="btn" style="background:#001c3d;">üìû ‡§ï‡•â‡§≤</a>
        <a id="wa-btn" class="btn" style="background:#25d366;">üí¨ ‡§µ‡•ç‡§π‡§æ‡§ü‡•ç‡§∏‡§™‡•ç‡§™</a>
        <button class="btn" style="background:#6a1b9a;" onclick="toggleQR()">üí≥ ‡§™‡•á‡§Æ‡•á‡§Ç‡§ü</button>
        <button class="btn" style="background:#444;" onclick="loginAdmin()">‚öôÔ∏è ‡§è‡§°‡§Æ‡§ø‡§®</button>
    </div>

    <div class="form-card">
        <h3 style="text-align:center; color:var(--blue); margin-top:0;">üìù ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§°‡§æ‡§ü‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</h3>
        <input type="text" id="c-name" placeholder="‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ">
        <input type="number" id="c-phone" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
        <input type="text" id="c-work" placeholder="‡§ï‡§æ‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ">
        <select id="c-mode" onchange="document.getElementById('c-amt-div').style.display=(this.value==='Udhar'?'block':'none')">
            <option value="General">‚úÖ ‡§®‡§ó‡§¶ ‡§≠‡•Å‡§ó‡§§‡§æ‡§® (Cash)</option>
            <option value="Udhar">üìï ‡§â‡§ß‡§æ‡§∞ (Ledger)</option>
        </select>
        <div id="c-amt-div" style="display:none;"><input type="number" id="c-amt" placeholder="‡§ï‡§ø‡§§‡§®‡§æ ‡§™‡•à‡§∏‡§æ ‡§¨‡§æ‡§ï‡•Ä ‡§π‡•à? ‚Çπ"></div>
        <textarea id="c-quest" placeholder="‡§ï‡•ã‡§à ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§®‡•ã‡§ü ‡§Ø‡§æ ‡§∏‡§µ‡§æ‡§≤?" rows="2"></textarea>
        <button onclick="saveData()" style="background:var(--orange); color:white; width:100%; padding:15px; border:none; border-radius:8px; font-weight:bold; cursor:pointer; font-size:16px;">‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <center><div class="section-title">‚≠ê ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡•á‡§µ‡§æ‡§è‡§Å</div></center>
    <div class="grid-5" id="show-services"></div>

    <center><div class="section-title">üìã ‡§ö‡§æ‡§≤‡•Ç ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§´‡•â‡§∞‡•ç‡§Æ</div></center>
    <div class="grid-3" id="show-forms"></div>

    <center><div class="section-title">üí∞ ‡§§‡§æ‡§ú‡§º‡§æ ‡§∞‡•á‡§ü ‡§≤‡§ø‡§∏‡•ç‡§ü</div></center>
    <div class="form-card" style="padding:10px;">
        <table style="width:100%; border-collapse: collapse;">
            <tbody id="show-rates"></tbody>
        </table>
    </div>

    <div id="admin-panel">
        <h2 style="text-align:center;">üõ† ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§Ç‡§ü‡•ç‡§∞‡•ã‡§≤ ‡§™‡•à‡§®‡§≤</h2>
        <div class="admin-sec">
            <h4>1. ‡§™‡•á‡§ú ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§¨‡§¶‡§≤‡•á‡§Ç</h4>
            <input type="text" id="in-logo" placeholder="Logo URL">
            <input type="text" id="in-news" placeholder="Scrolling News Text">
            <input type="text" id="in-phone" placeholder="Mobile Number">
            <input type="text" id="in-upi" placeholder="UPI ID">
            <input type="text" id="in-pin" placeholder="Admin PIN (Default: 4321)">
        </div>
        <div class="admin-sec">
            <h4>2. ‡§∏‡•á‡§µ‡§æ / ‡§´‡•â‡§∞‡•ç‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h4>
            <input type="text" id="in-item-name" placeholder="Item Name">
            <select id="in-item-type">
                <option value="services">Sewa (Grid 5)</option>
                <option value="forms">Form (Grid 3)</option>
            </select>
            <button onclick="addItem()" style="background:green; color:white; padding:10px; width:100%; border:none; border-radius:5px; cursor:pointer;">+ ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡•ú‡•á‡§Ç</button>
            <div id="list-items" style="max-height:150px; overflow:auto; margin-top:10px;"></div>
        </div>
        <div class="admin-sec">
            <h4>3. ‡§∞‡•á‡§ü ‡§Æ‡•à‡§®‡•á‡§ú‡§Æ‡•á‡§Ç‡§ü</h4>
            <input type="text" id="in-rate-name" placeholder="Service Name">
            <input type="text" id="in-rate-price" placeholder="Rate (‚Çπ)">
            <button onclick="addRate()" style="background:var(--blue); color:white; padding:10px; width:100%; border:none; border-radius:5px; cursor:pointer;">+ ‡§∞‡•á‡§ü ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
            <div id="list-rates" style="max-height:150px; overflow:auto; margin-top:10px;"></div>
        </div>
        <div class="admin-sec">
            <h4>4. ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§°‡§æ‡§ü‡§æ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°‡•ç‡§∏</h4>
            <div id="list-data" style="max-height:200px; overflow:auto;"></div>
        </div>
        <button onclick="saveAll()" style="background:var(--orange); color:white; width:100%; padding:20px; font-weight:bold; border:none; border-radius:10px; font-size:18px; cursor:pointer;">üíæ ‡§∏‡§≠‡•Ä ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<footer>
    <h2 style="margin:0;">D.M Cyber Varanasi</h2>
    <p style="font-weight:bold;">‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ, ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡§π‡§ö‡§æ‡§®/‡§Ü‡§™‡§ï‡§æ ‡§≠‡§∞‡•ã‡§∏‡•á‡§Æ‡§Ç‡§¶ ‡§ú‡§® ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</p>
    <p>‡§Æ‡§Ç‡§°‡•Å‡§µ‡§æ‡§°‡•Ä‡§π, ‡§∞‡•ã‡§π‡§®‡§ø‡§Ø‡§æ, ‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä</p>
    <p id="footer-phone"></p>
    <hr style="opacity: 0.1; margin: 20px 0;">
    <p style="font-size: 13px;">¬© 2025 ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ | Security: SSL & Anti-Theft Enabled</p>
</footer>

<div class="ai-btn" onclick="toggleAI()">ü§ñ</div>
<div id="ai-box">
    <div class="ai-head">DM Cyber Assistant <span onclick="toggleAI()" style="cursor:pointer;">√ó</span></div>
    <div class="ai-msgs" id="ai-msg-box"></div>
    <div style="display:flex; padding:10px; background:var(--card); border-top:1px solid #ddd;">
        <input type="text" id="ai-input" placeholder="‡§™‡•Ç‡§õ‡•á‡§Ç ‡§∏‡•á‡§µ‡§æ ‡§Ø‡§æ ‡§∞‡•á‡§ü..." style="margin:0; border-radius:20px 0 0 20px;">
        <button onclick="handleAI()" style="background:var(--orange); color:white; border:none; padding:0 15px; border-radius:0 20px 20px 0; cursor:pointer;">‚û§</button>
    </div>
</div>

<div id="qr-modal" onclick="toggleQR()" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:9999; align-items:center; justify-content:center;">
    <div style="background:white; padding:30px; border-radius:20px; text-align:center; border:5px solid var(--orange);" onclick="event.stopPropagation()">
        <h3 style="color:#333; margin-top:0;">D.M Cyber Payments</h3>
        <div id="qrcode"></div>
        <p id="upi-txt" style="color:var(--blue); font-weight:bold; margin-top:10px;"></p>
        <button onclick="toggleQR()" style="background:var(--orange); color:white; border:none; padding:10px 20px; border-radius:5px; margin-top:10px;">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<script>
    const STORAGE = 'dm_final_v1';
    let config = JSON.parse(localStorage.getItem(STORAGE)) || {
        logo: "https://i.postimg.cc/7f7ae7/image.png", 
        news: "D.M Cyber ‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§ ‡§∏‡§≠‡•Ä ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ø‡§π‡§æ‡§Å ‡§≠‡§∞‡•á ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§",
        phone: "8303585793", upi: "dm0827717@ybl", pin: "4321",
        services: ["‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°", "‡§Ü‡§Ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£", "‡§ú‡§æ‡§§‡§ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£", "‡§®‡§ø‡§µ‡§æ‡§∏", "‡§Ü‡§ß‡§æ‡§∞"], 
        forms: ["‡§Ø‡•Ç‡§™‡•Ä ‡§™‡•Å‡§≤‡§ø‡§∏", "‡§∏‡•ç‡§ï‡•â‡§≤‡§∞‡§∂‡§ø‡§™", "SSC"],
        rates: [{n:"‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°", p:"‚Çπ200"}, {n:"‡§Ü‡§Ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£", p:"‚Çπ100"}], db: []
    };

    function toggleTheme() {
        const b = document.body;
        b.dataset.theme = b.dataset.theme === "light" ? "dark" : "light";
    }

    function render() {
        document.getElementById('disp-logo').src = config.logo;
        document.getElementById('disp-news').innerText = config.news;
        document.getElementById('call-btn').href = "tel:" + config.phone;
        document.getElementById('wa-btn').href = "https://wa.me/91" + config.phone;
        document.getElementById('footer-phone').innerText = "+91 " + config.phone;
        
        document.getElementById('show-services').innerHTML = config.services.map(s=>`<div class="box-item">${s}</div>`).join('');
        document.getElementById('show-forms').innerHTML = config.forms.map(f=>`<div class="box-item">${f}</div>`).join('');
        document.getElementById('show-rates').innerHTML = config.rates.map(r=>`<tr><td style="padding:12px; border-bottom:1px solid #ddd; font-weight:bold;">${r.n}</td><td align="right" style="color:var(--orange); font-weight:900;">${r.p}</td></tr>`).join('');
        
        // Admin Lists
        document.getElementById('list-items').innerHTML = config.services.map((s,i)=>`<div style="display:flex; justify-content:space-between; padding:5px; border-bottom:1px solid #eee;"><span>(S) ${s}</span><button onclick="del('services',${i})" style="color:red; background:none; border:none; cursor:pointer;">X</button></div>`).join('') + config.forms.map((f,i)=>`<div style="display:flex; justify-content:space-between; padding:5px; border-bottom:1px solid #eee;"><span>(F) ${f}</span><button onclick="del('forms',${i})" style="color:red; background:none; border:none; cursor:pointer;">X</button></div>`).join('');
        document.getElementById('list-rates').innerHTML = config.rates.map((r,i)=>`<div style="display:flex; justify-content:space-between; padding:5px; border-bottom:1px solid #eee;"><span>${r.n}</span><button onclick="del('rates',${i})" style="color:red; background:none; border:none; cursor:pointer;">X</button></div>`).join('');
        document.getElementById('list-data').innerHTML = config.db.map((d,i)=>`<div style="background:${d.m==='Udhar'?'#ffe5e5':'#e5ffe5'}; padding:10px; margin-bottom:5px; border-radius:5px; color:#333;"><b>${d.n}</b> - ${d.w} (‚Çπ${d.a||0}) <button onclick="del('db',${i})" style="float:right; border:none; background:none; color:red; cursor:pointer;">X</button></div>`).reverse().join('');

        // Admin Prefills
        document.getElementById('in-logo').value = config.logo;
        document.getElementById('in-news').value = config.news;
        document.getElementById('in-phone').value = config.phone;
        document.getElementById('in-upi').value = config.upi;
        document.getElementById('in-pin').value = config.pin;
    }

    function saveData() {
        let n = document.getElementById('c-name').value;
        if(!n) return alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç!");
        config.db.push({n:n, ph:document.getElementById('c-phone').value, w:document.getElementById('c-work').value, m:document.getElementById('c-mode').value, a:document.getElementById('c-amt').value, q:document.getElementById('c-quest').value});
        localStorage.setItem(STORAGE, JSON.stringify(config)); alert("‡§°‡§æ‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!"); render();
        // Clear fields
        document.getElementById('c-name').value = ""; document.getElementById('c-phone').value = ""; document.getElementById('c-work').value = "";
    }

    function addItem() { let n=document.getElementById('in-item-name').value; let t=document.getElementById('in-item-type').value; if(n){config[t].push(n); render();}}
    function addRate() { let n=document.getElementById('in-rate-name').value; let p=document.getElementById('in-rate-price').value; if(n){config.rates.push({n:n, p:p}); render();}}
    function del(k,i) { if(confirm("‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡•á‡§Ç?")) { config[k].splice(i,1); render(); } }
    
    function loginAdmin() { 
        if(prompt("Admin PIN ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç:") === config.pin) {
            document.getElementById('admin-panel').style.display='block';
            window.scrollTo(0, document.body.scrollHeight);
        } else { alert("‡§ó‡§≤‡§§ ‡§™‡§ø‡§®!"); }
    }

    function saveAll() {
        config.logo=document.getElementById('in-logo').value; config.news=document.getElementById('in-news').value;
        config.phone=document.getElementById('in-phone').value; config.upi=document.getElementById('in-upi').value;
        config.pin=document.getElementById('in-pin').value;
        localStorage.setItem(STORAGE, JSON.stringify(config)); alert("Published Successfully!"); location.reload();
    }

    function toggleQR() { 
        let m=document.getElementById('qr-modal'); m.style.display=(m.style.display==='flex'?'none':'flex');
        document.getElementById('upi-txt').innerText = config.upi;
        document.getElementById('qrcode').innerHTML = `<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=${config.upi}&pn=DMCyber">`;
    }

    function toggleAI() { 
        let w=document.getElementById('ai-box'); w.style.display=(w.style.display==='flex'?'none':'flex'); 
        if(!document.getElementById('ai-msg-box').innerHTML) {
            document.getElementById('ai-msg-box').innerHTML = "<div class='msg-ai'>‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç <b>D.M Assistant</b> ‡§π‡•Ç‡§Å‡•§ <br><br> ‡§Ü‡§™ ‡§Æ‡•Å‡§ù‡§∏‡•á ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ‡§ì‡§Ç, ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§´‡•â‡§∞‡•ç‡§Æ ‡§Ø‡§æ ‡§â‡§®‡§ï‡•á ‡§∞‡•á‡§ü ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§</div>";
        }
    }

    function handleAI() {
        let input = document.getElementById('ai-input').value.trim().toLowerCase();
        let box = document.getElementById('ai-msg-box');
        if(!input) return;
        box.innerHTML += `<div class="msg-user">${input}</div>`;
        document.getElementById('ai-input').value = "";

        let reply = "‡§ï‡•ç‡§∑‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç, ‡§Æ‡•à‡§Ç ‡§∏‡§Æ‡§ù ‡§®‡§π‡•Ä‡§Ç ‡§™‡§æ‡§Ø‡§æ‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ '‡§∏‡•á‡§µ‡§æ', '‡§´‡•â‡§∞‡•ç‡§Æ', '‡§∞‡•á‡§ü' ‡§Ø‡§æ '‡§™‡•á‡§Æ‡•á‡§Ç‡§ü' ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç‡•§";

        if(input.includes("‡§∏‡•á‡§µ‡§æ") || input === "sewa") {
            reply = "‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡•á‡§µ‡§æ‡§è‡§Å ‡§π‡•à‡§Ç: <br><b>" + config.services.join(", ") + "</b>";
        } else if(input.includes("‡§´‡•â‡§∞‡•ç‡§Æ") || input === "form") {
            reply = "‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§Ø‡•á ‡§´‡•â‡§∞‡•ç‡§Æ ‡§≠‡§∞‡•á ‡§ú‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç: <br><b>" + config.forms.join(", ") + "</b>";
        } else if(input.includes("‡§™‡•á‡§Æ‡•á‡§Ç‡§ü") || input.includes("qr") || input.includes("pay")) {
            reply = "‡§™‡•á‡§Æ‡•á‡§Ç‡§ü ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è QR Code ‡§ì‡§™‡§® ‡§ï‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§";
            toggleQR();
        } else {
            let found = config.rates.find(r => input.includes(r.n.toLowerCase()));
            if(found) {
                reply = `‡§ú‡•Ä, ${found.n} ‡§ï‡§æ ‡§ö‡§æ‡§∞‡•ç‡§ú <b>${found.p}</b> ‡§π‡•à‡•§ <br>‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§á‡§∏‡•á ‡§Ö‡§≠‡•Ä ‡§¨‡§®‡§µ‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?`;
            } else if(input.includes("rate") || input.includes("‡§∞‡•á‡§ü") || input.includes("‡§ï‡§ø‡§§‡§®‡§æ")) {
                reply = "<b>‡§∞‡•á‡§ü ‡§≤‡§ø‡§∏‡•ç‡§ü:</b><br>" + config.rates.map(x=>`${x.n}: ${x.p}`).join('<br>');
            }
        }
        setTimeout(() => { 
            box.innerHTML += `<div class="msg-ai">${reply}</div>`; 
            box.scrollTop = box.scrollHeight; 
        }, 400);
    }
    render();
</script>
</body>
</html>
