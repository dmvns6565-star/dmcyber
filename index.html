<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.M Cyber Varanasi - Official</title>
    <style>
        :root {
            --orange: #ff7b00;
            --blue: #004a99;
            --dark: #001c3d;
            --bg: #f4f7f6;
            --txt: #1a1a1a;
            --card: #ffffff;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] {
            --bg: #0f172a;
            --txt: #ffffff; /* ‡§°‡§æ‡§∞‡•ç‡§ï ‡§Æ‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡§´‡•á‡§¶ */
            --card: #1e293b;
            --blue: #3b82f6;
            --dark: #000000;
        }

        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background: var(--bg); color: var(--txt); transition: 0.3s; overflow-x: hidden; }

        header { 
            background: linear-gradient(180deg, var(--blue), var(--dark)); 
            color: white; text-align: center; padding: 50px 10px 100px; position: relative;
            border-bottom: 5px solid var(--orange);
        }
        .logo-circle { 
            width: 110px; height: 110px; background: white; border-radius: 50%; 
            margin: 0 auto 15px; border: 4px solid var(--orange); display: flex; 
            align-items: center; justify-content: center; overflow: hidden; box-shadow: var(--shadow);
        }
        .logo-circle img { width: 100%; height: 100%; object-fit: cover; }
        
        .brand { font-size: 32px; font-weight: bold; margin: 0; text-transform: uppercase; letter-spacing: 1px; color: #ffffff; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .brand span { color: var(--orange); }

        .action-wrapper { max-width: 900px; margin: -60px auto 20px; padding: 0 15px; position: relative; z-index: 10; }
        .action-box { background: var(--card); border-radius: 20px; padding: 25px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); text-align: center; border: 1px solid rgba(0,0,0,0.1); color: var(--txt); }
        
        .sec-tag { background: var(--dark); color: #ffffff !important; padding: 12px 30px; border-radius: 50px; display: inline-block; margin: 30px 0 20px; border-left: 8px solid var(--orange); font-weight: bold; }
        
        .card { background: var(--card); color: var(--txt); padding: 25px 15px; border-radius: 15px; text-align: center; font-weight: bold; border-bottom: 5px solid var(--blue); box-shadow: var(--shadow); }

        /* AI Assistant Style Fixes */
        #ai-box { display: none; position: fixed; bottom: 105px; right: 30px; width: 350px; height: 500px; background: var(--card); border: 2px solid var(--orange); border-radius: 20px; flex-direction: column; overflow: hidden; z-index: 1000; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        .ai-msg { background: #e3f2fd; color: #333; padding: 12px; border-radius: 15px 15px 15px 0; align-self: flex-start; font-size: 14px; max-width: 80%; }
        
        /* Form Inputs in Dark Mode */
        input, select { background: var(--card); color: var(--txt); border: 1px solid #555; }
    </style>
</head>
<body data-theme="light">

<header>
    <button class="theme-toggle" style="position:absolute; top:20px; right:20px; background:none; border:none; font-size:24px; cursor:pointer;" onclick="toggleTheme()">üåì</button>
    <div class="logo-circle"><img id="d-logo" src=""></div>
    <h1 class="brand">D.M <span>Cyber</span></h1>
    <p style="color: white; opacity:0.9; font-style: italic;">"‡§Ü‡§™‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ, ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡§π‡§ö‡§æ‡§®"</p>
    <div style="background: var(--orange); color: white; padding: 6px 20px; border-radius: 20px; font-weight: bold; display: inline-block; margin-top: 12px;">‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: ‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø‡§æ</div>
</header>

<div class="news-bar" style="background: var(--card); border-bottom: 3px solid var(--orange); padding: 12px 0;">
    <marquee id="d-news" scrollamount="6" style="font-weight: bold; color: var(--txt);"></marquee>
</div>

<div class="container">
    <div style="background: var(--card); padding: 25px; border-radius: 20px; border: 2px solid var(--blue); margin-top: 20px; box-shadow: var(--shadow);">
        <h3 style="text-align:center; color:var(--blue); margin-top:0;">üìù ‡§®‡•ç‡§Ø‡•Ç ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§°‡§æ‡§ü‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä</h3>
        <input type="text" id="c-name" placeholder="‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç" style="width:100%; padding:12px; margin-bottom:10px; border-radius:8px;">
        <input type="text" id="c-work" placeholder="‡§ï‡§æ‡§Æ ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£" style="width:100%; padding:12px; margin-bottom:15px; border-radius:8px;">
        <button onclick="saveClient()" style="background:var(--orange); color:white; width:100%; padding:15px; border:none; border-radius:12px; font-weight:bold; cursor:pointer;">‡§°‡§æ‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <center><div class="sec-tag">‚≠ê ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Å</div></center>
    <div class="grid" id="srv-grid"></div>

    <center><div class="sec-tag">üìã ‡§ö‡§æ‡§≤‡•Ç ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§´‡•â‡§∞‡•ç‡§Æ</div></center>
    <div class="grid" id="frm-grid"></div>

    <center><div class="sec-tag">üí∞ ‡§∞‡•á‡§ü ‡§≤‡§ø‡§∏‡•ç‡§ü</div></center>
    <div id="rate-list-display" style="background: var(--card); border-radius: 15px; padding: 10px;"></div>

    <div id="admin-panel" style="display:none; margin-top: 50px; background: var(--card); padding: 20px; border: 2px dashed var(--orange);">
        <h3>‚öôÔ∏è ‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤</h3>
        <label>‡§≤‡•ã‡§ó‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç:</label>
        <input type="file" id="in-logo-file" accept="image/*" onchange="uploadPhoto(this)" style="margin-bottom: 20px;">
        <input type="text" id="in-news" placeholder="‡§®‡•ç‡§Ø‡•Ç‡§ú ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü">
        <input type="text" id="in-upi" placeholder="UPI ID">
        <button onclick="saveAll()" style="background: var(--blue); color: white; padding: 15px; width: 100%; border: none; cursor: pointer;">üíæ ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
        <button onclick="document.getElementById('admin-panel').style.display='none'" style="width:100%; margin-top:10px;">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
    
    <center style="margin: 40px 0;">
        <button onclick="openAdmin()" style="background: #444; color: white; border: none; padding: 10px 20px; border-radius: 50px; cursor: pointer;">‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤ ‡§ñ‡•ã‡§≤‡•á‡§Ç</button>
    </center>
</div>

<div class="ai-btn" onclick="toggleAI()">ü§ñ</div>
<div id="ai-box">
    <div style="background:var(--blue); color:white; padding:15px; font-weight:bold; display:flex; justify-content:space-between;">
        <span>D.M Cyber Assistant</span>
        <span onclick="toggleAI()" style="cursor:pointer;">‚úñ</span>
    </div>
    <div class="ai-chat" id="ai-display"></div>
    <div style="display:flex; padding:10px;">
        <input type="text" id="ai-input" placeholder="‡§™‡•Ç‡§õ‡•á‡§Ç..." style="flex:1;">
        <button onclick="askAI()" style="background:var(--orange); color:white; border:none; padding:10px;">‡§≠‡•á‡§ú‡•á‡§Ç</button>
    </div>
</div>

<script>
    let db = JSON.parse(localStorage.getItem('dm_master_final')) || {
        logo: "https://i.postimg.cc/7f7ae7/image.png",
        news: "D.M Cyber ‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à‡•§",
        phone: "8303585793",
        upi: "dm0827717@ybl",
        pin: "4321",
        services: ["‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°", "‡§Ü‡§Ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£", "‡§ú‡§æ‡§§‡§ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£"],
        forms: ["‡§Ø‡•Ç‡§™‡•Ä ‡§™‡•Å‡§≤‡§ø‡§∏", "‡§∏‡•ç‡§ï‡•â‡§≤‡§∞‡§∂‡§ø‡§™"],
        rates: [{n:"‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°", p:"200"}],
        clients: []
    };

    function render() {
        document.getElementById('d-logo').src = db.logo;
        document.getElementById('d-news').innerText = db.news;
        document.getElementById('srv-grid').innerHTML = db.services.map(s => `<div class="card">${s}</div>`).join('');
        document.getElementById('frm-grid').innerHTML = db.forms.map(f => `<div class="card">${f}</div>`).join('');
        document.getElementById('rate-list-display').innerHTML = db.rates.map(r => `<div style="display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid #eee; color:var(--txt);"><b>${r.n}</b> <span>‚Çπ${r.p}</span></div>`).join('');
    }

    // ‡§´‡•ã‡§ü‡•ã ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
    function uploadPhoto(input) {
        const file = input.files[0];
        const reader = new FileReader();
        reader.onloadend = function() {
            db.logo = reader.result; // Base64 ‡§°‡•á‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§
            document.getElementById('d-logo').src = reader.result;
        }
        if (file) reader.readAsDataURL(file);
    }

    function toggleTheme() {
        document.body.dataset.theme = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
    }

    function openAdmin() {
        if(prompt("PIN ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç:") === db.pin) document.getElementById('admin-panel').style.display = 'block';
    }

    function saveAll() {
        db.news = document.getElementById('in-news').value;
        db.upi = document.getElementById('in-upi').value;
        localStorage.setItem('dm_master_final', JSON.stringify(db));
        alert("‡§°‡•á‡§ü‡§æ ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à!");
        location.reload();
    }

    function saveClient() {
        let n = document.getElementById('c-name').value;
        let w = document.getElementById('c-work').value;
        if(n && w) {
            db.clients.push({n:n, w:w, t:new Date().toLocaleString()});
            localStorage.setItem('dm_master_final', JSON.stringify(db));
            alert("‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§°‡•á‡§ü‡§æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!");
            document.getElementById('c-name').value = "";
            document.getElementById('c-work').value = "";
        }
    }

    // AI logic fixed
    function toggleAI() {
        let b = document.getElementById('ai-box');
        b.style.display = b.style.display === 'flex' ? 'none' : 'flex';
    }

    function askAI() {
        let inp = document.getElementById('ai-input');
        let msg = inp.value.toLowerCase();
        let display = document.getElementById('ai-display');
        
        display.innerHTML += `<div style="align-self:flex-end; background:var(--orange); color:white; padding:10px; border-radius:10px; margin-bottom:10px;">${inp.value}</div>`;
        
        let reply = "‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ï‡•à‡§∏‡•á ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å? ‡§Ü‡§™ ‡§∞‡•á‡§ü ‡§Ø‡§æ ‡§∏‡•á‡§µ‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§";
        if(msg.includes("‡§∞‡•á‡§ü")) reply = "‡§π‡§Æ‡§æ‡§∞‡•á ‡§∞‡•á‡§ü‡•ç‡§∏: " + db.rates.map(r => r.n + "=‚Çπ" + r.p).join(", ");
        if(msg.includes("‡§∏‡•á‡§µ‡§æ")) reply = "‡§π‡§Æ ‡§Ø‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç: " + db.services.join(", ");
        
        setTimeout(() => {
            display.innerHTML += `<div style="align-self:flex-start; background:#e3f2fd; color:#333; padding:10px; border-radius:10px; margin-bottom:10px;">${reply}</div>`;
            display.scrollTop = display.scrollHeight;
        }, 500);
        
        inp.value = "";
    }

    render();
</script>
</body>
</html>
