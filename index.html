<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D.M Cyber Varanasi - Udhar Khata</title>
    <style>
        :root { 
            --dark-blue: #004a99; 
            --orange: #ff851b;
            --white: #ffffff;
            --red-udhar: #d32f2f;
        }
        
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background-color: var(--white); color: #333; }

        /* HEADER & FOOTER */
        header, footer { background-color: var(--dark-blue); text-align: center; padding: 40px 10px; color: white; border-bottom: 5px solid var(--orange); }
        footer { border-top: 5px solid var(--orange); border-bottom: none; }
        .dm-brand { font-size: 3em; font-weight: 900; margin: 0; }
        .dm-brand span { color: var(--orange); }

        .container { max-width: 900px; margin: 0 auto; padding: 30px 15px; }

        /* UDHAR KHATA SECTION */
        .udhar-box { 
            background: #fff; padding: 25px; border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 2px solid var(--red-udhar);
            margin-bottom: 30px;
        }
        .udhar-box h3 { color: var(--red-udhar); margin-top: 0; text-align: center; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .udhar-box input { width: 100%; padding: 12px; margin-bottom: 12px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; font-size: 1em; }
        .save-btn { background: var(--red-udhar); color: white; width: 100%; padding: 15px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1.1em; }

        /* ADMIN PANEL & TABLE */
        #admin-panel { background: #fff; padding: 20px; border-radius: 15px; border: 3px solid var(--dark-blue); margin-top: 20px; display: none; }
        .table-wrap { overflow-x: auto; margin-top: 15px; border-radius: 10px; border: 1px solid #ddd; }
        table { width: 100%; border-collapse: collapse; min-width: 500px; }
        th { background: var(--dark-blue); color: white; padding: 12px; text-align: left; }
        td { padding: 12px; border-bottom: 1px solid #eee; font-weight: bold; font-size: 0.9em; }
        .del-btn { background: #ff4444; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; }
        
        .admin-trigger { background: #333; color: white; padding: 12px 30px; border-radius: 25px; border: none; font-weight: bold; cursor: pointer; display: block; margin: 20px auto; }
    </style>
</head>
<body>

<header>
    <h1 class="dm-brand">D.M <span>Cyber</span></h1>
    <p>‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä ‡§ï‡§æ ‡§®‡§Ç‡§¨‡§∞ 1 ‡§ú‡§® ‡§∏‡•á‡§µ‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞</p>
</header>

<div class="container">
    <div class="udhar-box">
        <h3>üìï ‡§®‡§Ø‡§æ ‡§â‡§ß‡§æ‡§∞ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä ‡§ú‡•ã‡•ú‡•á‡§Ç</h3>
        <input type="text" id="udhar-name" placeholder="‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§ï‡§æ ‡§®‡§æ‡§Æ">
        <input type="number" id="udhar-phone" placeholder="‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
        <input type="text" id="udhar-work" placeholder="‡§ï‡§æ‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ (‡§ï‡§ø‡§∏ ‡§ö‡•Ä‡§ú‡§º ‡§ï‡§æ ‡§â‡§ß‡§æ‡§∞ ‡§π‡•à?)">
        <input type="date" id="udhar-date">
        <button class="save-btn" onclick="addUdhar()">‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>

    <button class="admin-trigger" onclick="openAdmin()">‚öôÔ∏è ‡§â‡§ß‡§æ‡§∞ ‡§≤‡§ø‡§∏‡•ç‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç (Admin)</button>

    <div id="admin-panel">
        <h3 style="color:var(--dark-blue); text-align:center;">üìä ‡§â‡§ß‡§æ‡§∞ ‡§ñ‡§æ‡§§‡§æ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°</h3>
        <div class="table-wrap">
            <table>
                <thead>
                    <tr>
                        <th>‡§®‡§æ‡§Æ</th>
                        <th>‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤</th>
                        <th>‡§ï‡§æ‡§Æ</th>
                        <th>‡§§‡§æ‡§∞‡•Ä‡§ñ</th>
                        <th>‡§π‡§ü‡§æ‡§è‡§Ç</th>
                    </tr>
                </thead>
                <tbody id="udhar-list"></tbody>
            </table>
        </div>
        <button onclick="document.getElementById('admin-panel').style.display='none'" style="margin-top:15px; width:100%; padding:10px; background:#888; color:white; border:none; border-radius:8px; cursor:pointer;">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<footer>
    <div style="font-weight: 900; font-size: 1.5em;">D.M Cyber Varanasi</div>
    <p>‡§Æ‡§Ç‡§°‡§æ‡§µ, ‡§∞‡•ã‡§π‡§®‡§ø‡§Ø‡§æ, ‡§µ‡§æ‡§∞‡§æ‡§£‡§∏‡•Ä | ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ï: ‡§ß‡•Ä‡§∞‡§ú ‡§Æ‡•å‡§∞‡•ç‡§Ø‡§æ</p>
</footer>

<script>
    const UDHAR_DB = 'dm_cyber_udhar_records';

    // 1. Save Udhar Data
    function addUdhar() {
        let n = document.getElementById('udhar-name').value;
        let p = document.getElementById('udhar-phone').value;
        let w = document.getElementById('udhar-work').value;
        let d = document.getElementById('udhar-date').value;

        if(!n || !p || !w || !d) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Ç‡§∞‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§≠‡§∞‡•á‡§Ç!"); return; }

        let records = JSON.parse(localStorage.getItem(UDHAR_DB) || '[]');
        records.push({ id: Date.now(), n, p, w, d });
        localStorage.setItem(UDHAR_DB, JSON.stringify(records));

        alert("‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ!");
        document.getElementById('udhar-name').value = '';
        document.getElementById('udhar-phone').value = '';
        document.getElementById('udhar-work').value = '';
        document.getElementById('udhar-date').value = '';
    }

    // 2. Admin Panel with Password
    function openAdmin() {
        let pin = prompt("‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡§ø‡§® ‡§°‡§æ‡§≤‡•á‡§Ç (Default: 1234):");
        if(pin === "1234") {
            document.getElementById('admin-panel').style.display = 'block';
            loadList();
        } else { alert("‡§ó‡§≤‡§§ ‡§™‡§ø‡§®!"); }
    }

    // 3. Load & Display List
    function loadList() {
        let data = JSON.parse(localStorage.getItem(UDHAR_DB) || '[]');
        let html = data.map(item => `
            <tr>
                <td>${item.n}</td>
                <td>${item.p}</td>
                <td>${item.w}</td>
                <td>${item.d}</td>
                <td><button class="del-btn" onclick="deleteEntry(${item.id})">X</button></td>
            </tr>
        `).join('');
        document.getElementById('udhar-list').innerHTML = html || "<tr><td colspan='5' align='center'>‡§ï‡•ã‡§à ‡§â‡§ß‡§æ‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à</td></tr>";
    }

    // 4. Delete Entry
    function deleteEntry(id) {
        if(confirm("‡§ï‡•ç‡§Ø‡§æ ‡§™‡•à‡§∏‡§æ ‡§Æ‡§ø‡§≤ ‡§ó‡§Ø‡§æ ‡§π‡•à? ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞ ‡§¶‡•á‡§Ç?")) {
            let records = JSON.parse(localStorage.getItem(UDHAR_DB) || '[]');
            let filtered = records.filter(r => r.id !== id);
            localStorage.setItem(UDHAR_DB, JSON.stringify(filtered));
            loadList();
        }
    }
</script>
</body>
</html>
